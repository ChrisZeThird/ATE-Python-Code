# -*- coding: utf-8 -*-
"""
Created on Thu Feb 10 21:14:46 2022

@author: ChrisZeThird

The goal of this programm is to convert "," to "." in a certain amount of files records, in order to use 
them in Numpy and Matplotlib afterwards.
"""

import numpy as np
import glob
import shutil
import os

"""Hypothetically, the files that need to be converted are all in the same folder. If not I suggest doing that to make the process easier"""

path1 = input("Enter folder name containing files: ") # Allows more flexibility, the python file doesn't have to be among the files
os.chdir(path1) # Change workspace directory to the folder containing the files

txtfiles = []
for file in glob.glob("*.txt"):
    txtfiles.append(file)

path2 = input("Enter subdirectory name: ") # Allows the script to later go back in the global folder to create the copy of the files
path3 = f'{path2}\copy_data' # Folders containing copied files with later the correct decimals separation

os.mkdir(path3)

"""The code below gets files from a directory, clone them and replace the ',' with '.'"""

n = len(txtfiles)    

for k in range(n):
    c = '_copy.txt'
    file_name = txtfiles[k]
    file_name_copy = (txtfiles[k])[:-4] + c
    path_file = f'{path1}\{file_name}'
    path_copy = f'{path3}\{file_name_copy}'
    shutil.copyfile(f'{path1}\{txtfiles[k]}', path_copy)
    
    f1 = open(path_file,'r')
    f2 = open(path_copy,'w')
    for line in f1:
        f2.write(line.replace(',','.'))
    f1.close()
    f2.close()   

